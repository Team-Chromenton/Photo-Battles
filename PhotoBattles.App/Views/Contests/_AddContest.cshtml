@model PhotoBattles.App.Models.BindingModels.ContestBindingModel

@{
    ViewBag.Title = "Add Contest";
}

<p class="text-success">@ViewBag.StatusMessage</p>

@using (Html.BeginForm("AddContest", "Contests", FormMethod.Post, new { role = "form" }))
{
    <div class="panel panel-default panel-primary">
        <div class="panel-body">

            @Html.TextBoxFor(m => m.Title)
            <br />
            @Html.TextAreaFor(m => m.Description)

            <div>
                <p>Voting Strategy</p>
                @Html.LabelFor(m => m.VotingStartegy, "Open")
                @Html.RadioButtonFor(m => m.VotingStartegy, "Open", new { @checked = "checked", @onclick = "hide('voters')" })

                @Html.LabelFor(m => m.VotingStartegy, "Closed")
                @Html.RadioButtonFor(m => m.VotingStartegy, "Closed", new { @onclick = "show('voters')" })
                
                <select multiple id="voters" name="VotersNames" style="display: none">
                    @foreach (var user in Model.AvailableUsers)
                    {
                        <option value="@user.UserName">@user.UserName</option>
                    }
                </select>
            </div>

            @*<div>
                    <p>Participation Strategy</p>
                    @Html.LabelFor(m => m.ParticipationStrategy, "Open")
                    @Html.RadioButtonFor(m => m.ParticipationStrategy, "Open", new { @checked = "checked", @onclick = "hide('participants')" })

                    @Html.LabelFor(m => m.ParticipationStrategy, "Closed")
                    @Html.RadioButtonFor(m => m.ParticipationStrategy, "Closed", new { @onclick = "show('participants')" })

                    @Html.TextBoxFor(m => m.Participants, new { @id = "participants", @style = "display:none" })
                </div>

                <div>
                    <p>Reward Strategy</p>
                    @Html.LabelFor(m => m.RewardStrategy, "Single Winner")
                    @Html.RadioButtonFor(m => m.RewardStrategy, "SingleWinner", new { @checked = "checked", @onclick = "hide('number-of-winners')" })

                    @Html.LabelFor(m => m.RewardStrategy, "Multiple Winners")
                    @Html.RadioButtonFor(m => m.RewardStrategy, "TopNWinners", new { @onclick = "show('number-of-winners')" })

                    @Html.TextBoxFor(m => m.NumberOfWinners, new { @id = "number-of-winners", @style = "display:none", @type = "number" })
                </div>

                <div>
                    <p>Deadline Strategy</p>
                    @Html.LabelFor(m => m.DeadlineStrategy, "By time")
                    @Html.RadioButtonFor(m => m.DeadlineStrategy, "ByTime", new { @checked = "checked", @onclick = "hide('number-of-participants'); show('deadline')" })

                    @Html.TextBoxFor(m => m.Deadline, new { @id = "deadline", @type = "date" })

                    @Html.LabelFor(m => m.DeadlineStrategy, "By number of participants")
                    @Html.RadioButtonFor(m => m.DeadlineStrategy, "ByParticipants", new { @onclick = "hide('deadline'); show('number-of-participants')" })

                    @Html.TextBoxFor(m => m.NumberOfParticipants, new { @id = "number-of-participants", @style = "display:none", @type = "number" })
                </div>*@
        </div>
        <div class="panel-footer">
            <input type="submit" class="btn btn-default btn-primary" value="Add Contest" />
        </div>
    </div>
}

<script>
    function hide(obj) {
        var el = document.getElementById(obj);
        el.style.display = 'none';

    }

    function show(obj) {
        var el = document.getElementById(obj);
        el.style.display = '';
    }
</script>